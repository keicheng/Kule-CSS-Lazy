"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,s){return t&&_defineProperties(e.prototype,t),s&&_defineProperties(e,s),e}var UrBrowser=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;_classCallCheck(this,e),this.project={name:"urBrowser",version:"4.4.1",author:"Kei Cheng",github:"https://github.com/kuletw/urbrowser",website:"https://urbrowser.kule.tw",facebook:"https://www.facebook.com/kule.tw",license:"MIT License"},this.isBrowser="object"===("undefined"==typeof window?"undefined":_typeof(window)),this.results={},this.agent=this.results.agent="string"==typeof t&&t.length?t.toLocaleLowerCase():this.isBrowser?navigator.userAgent.toLocaleLowerCase():null,this.root=this.isBrowser?document.documentElement:null,this.originClasses=this.results.originClasses=this.root?this.root.className.split(/\s/).filter(Boolean):[],this.classes=Array.from(this.originClasses),this.breakpoints=this.results.breakpoints={xs:0,sm:576,md:768,lg:992,xl:1200},this.regex={app:"1password|arora|alienblue|amaya|baidu(boxapp)?((\\.|\\w)+)?|beetalk|checkme|collectd|electron|eve-igb|(fb[a|s]v)|flipboard|frontpage(\\sexpress)?|google(.maps|\\searth(\\spro)?|weblight)|gsa|instagram|itunes|kakaotalk|line(at|\\s)?(\\/)?\\d|linkedin|mail|micromessenger|msoffice|panascoutpro|pinterest|qq(\\W)|safepay|secondlife|snapchat|spotify|spray-can|tableaumobile|thunderbird|topbuzz|twitter|twstockapp|viber|weatherreport|weibo|winamp|yahoo(\\.|\\w){0,}|yrcweblinkpreview|zhihu|(microsoft|office)?\\s(access|excel|lync|office|onenote|outlook(\\s(calendar|mail))?(-express)?|powerpoint|project|publisher|visio|word)",browser:"(115|126|1337|1st|aloha|atomic|aw|dorado\\swap-|inettv|lb|mb2345|miui|mqq|naenara|nintendo|obigo(internet)|one|oppo|ovi|qt(car)?|qq|tizen|samsung|slim|sogoumobile|surf|uc(\\s)?|up\\.|vivo|webos|wk|ya|yaani|yolo|zvu)browser|acheetahi|adobeair|amaya|aol|awesomium|avant(go)?|band|bluechrome|blazer|bonecho|brave|camino|chimera|chromeplus|chromium|coda|coder\\snut|cometbird|comodo((_|\\s)dragon)*|coolnovo|dillo|dolfin|dooble|dragon|ekiohflow|elinks|epiphany|fennec|firebird|firefox|\\sfocus|flashfire|flock|\\sflow\\/|fxios|galeon|icab|ice(ape|dragon|weasel)|iemobile|\\siron|javafx|k-meleon|kazehakase|konqueror|lunascape|lynx|maxthon|mercury|midori|minefield|mms|mosaic|msie|mx(browser|ios)|netsurf|novarra-vision|obigo|omniweb|origin|palemoon|phoenix|playstation(\\s)?(portable|vita)?(\\s\\d+)?|puffin|quark|qupzilla|raptr|reactornetty|rekonq|rockmelt|ruxitsynthetic|seamonkey|shiretoko|silk|skyfire|sleipnir|songbird|stagefright|start|super(hk)?|sunrise|swing|tableau((\\s|_)?public)?|teashark|tesla(_|[a-zA-Z])*|tencenttraveler|tenfourfox|theworld|tizen|vienna|vivaldi|waterfox|webpositive|whale|wyzo",browserAlias:"(fb[a|s]v)|fxios|edg|mx(browser|ios)|acheetahi|(mqq|lb|sogoumobile|oppo|miui|samsung|ya|yolo|aloha)browser",webkit:"edga|edge|edgios|edg|chrome|crios|version|safari",engine:"webkit|trident|gecko|presto|netfront|goanna",webview:"apache|cordova|nodejs|ph onegap|react|webview",platform:"amiga|android|asha|bada|beos|brew|cellos|dalvik|darwin|haiku|hpwos|ip(hone|(a|o)d)|irix(64)?|kaios|kindle|klifd|nintendo(\\s)?(3ds|wii(u)?)?|playstation|rim\\stablet\\sos|tizen|windows|(free|open|net)bsd|xbox",bot:"(\\w)-google|google((bot(-(image|mobile|news|video))?)|imageproxy|-(\\w)|\\s(favicon))|(200please|abacho|addsugar|ado|aihit|anyapex|archive\\.org_|bebop|become|beslist|bitly|blitz|bradstreet|brightlocal|career|catch|centric|check|cliqz|cocolyze|crawler|diff|disco(rd)?|domain\\sre-animator\\s|dot|echo|finditanswers|flinkhub|gethpinfo\\.com|grapes|hlsh|idealo|index|info|isec(\\w|\\d|_)*|jooble|jyxo|kantarsifomediaaudit|letsearch|link(edin|is)|lxr|makemoneyteamwork|maui|meanpath|netpeak(checker)?|o|odkl|onb|quicksprout|redirect|sc|schema|snap|survey|techiejobs|telegram|tiger|tweetmeme|twitter|tzt-securityscan|web)(spider)?(-|_)?bot|(commoncontent|grapeshot)(\\s)?crawl(er)?|(360|jike|soso)spider|(b|l|i|t|z|o|-){15}|(i)?earthworm|80legs|accoona-(ai|biz)-agent|admantx(-(\\w)*)?|ahrefs(bot|siteaudit)?|alexa(\\ssite\\saudit|\\w*)?(\\s(site|audit))?|amazon(\\w)+|android(\\w)+|apple(core(\\w)*|bot)+|arachmo|baidu(mobaider|spider-\\w*)|bing(bot|preview)*|boitho\\.com-dc|broadsign\\sxpress|castbox|catchpoint|charlotte|chrome-lighthouse|(squid)?clamav(_|\\w)*|collectd|convera|cosmos|covario(\\s)?(-|\\w)*|curl|dataparksearch|dejaclick|dmbrowser|dragonfly|duckduck(go)?(-|\\w)+|earthcom\\.info|embeddedwb|envolk|evaliant|exabot(-|\\w)*|exb\\slanguage|facebookexternalhit|fast(\\s(enterprise|metaweb)|-web)|fdse|findlinks|genieo|go-http-client|gomezagent|gtmetrix|headlesschrome|htt(pclient|punit|rack)|ia_archiver|jakarta|jeeves|jikespider|linkcheck|lua|megaindex|mewe|mj12bot|msnbot(-media)?|netseer|nutch|okhttp|panscient|phantomjs|pinterest(bot)?|postman|proximic|ptst|searchhelper|semrushbot(-sa)?|sitemonitor(\\.py)?|slackbot(-|\\w)*|slurp|(new|-)*sogou(-|\\s|\\w)*spider|squider|ssl\\slabs|swami|teomabar|unwindfetchor|voilabot\\s?(beta)?|w3c(-|\\w)*|webindexer|wget|widget|y(!(\\w|-)*|search)|(yahoo(!)?(:|-|\\w)*(\\s((\\w|\\s)*crawler|mindset|pipes|slurp))+|slurp)|yandex(\\w)*|yodao(\\w|-)*|zgrab|zoominfo",botAlias:"accoona|admantx|ahrefs|alexa|amazon|android|apple|baidu|bing|boitho|duckduck|facebook|google|headless|msn|semrush|slack|sogou|w3c|yahoo",android:"acer|asus|huawei|htc|lg|miui|oppo|samsung|sharp|sony|xiaomi",tv:"crkey|netcast|smarttv|webtv",mobile:"ip(hone|(a|o)d)|android|blackberry|mobile|tablet|touch|phone|kindle",linux:"centos|debian|deepin|ezgo|hiweed|mint|redhat|startos|ubuntu|unicos",opera:"op(r|era|ios|t)"},this.botNameTable={discobot:"discovery","exabot-images":"exalead","exabot-thumbnails":"exalead",ia_archiver:"alexaBot",mj12bot:"majestic-12",searchhelper:"safariBot",slurp:"yahooBot",swami:"yahooBot","y!":"yahooBot"},this.convertionTables={app:{gsa:"google search app",googleweblight:"google web light"},device:{crkey:"chromecast"},os:{arm:"ARM",blackberry:"BlackBerryOS",centos:"CentOS",chromeos:"ChromeOS",firefoxos:"FirefoxOS",freebsd:"FreeBSD",hpwebos:"HP WebOS",ios:"iOS",kaios:"KaiOS",mac:"MacOS",openbsd:"OpenBSD","rim tablet os":"RIM Tablet OS",unicos:"UNICOS",wt:"Windows Tablet",wp:"Windows Phone"}},this.documentSize=this.isBrowser?{width:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},height:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}:null,this.cache={},this.isBuiltInApp=this.results.isBuiltInApp=RegExp(this.regex.app+"|"+this.regex.webview).test(this.agent),this.isbot=this.results.isbot=/robot|spider|analyzer|crawler|\+?http(s)?:\/\/(\w|\.)*/.test(this.agent)||RegExp(this.regex.bot).test(this.agent),this.storage={get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string";if("undefined"!=typeof JSON&&"undefined"!=typeof localStorage){var t=localStorage.getItem("urbrowser");return"json"===e?JSON.parse(t):t}return null},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;"undefined"!=typeof JSON&&"undefined"!=typeof localStorage&&(e?(localStorage.removeItem("urbrowser"),e=JSON.stringify(e),localStorage.setItem("urbrowser",e)):localStorage.removeItem("urbrowser"))}}}return _createClass(e,[{key:"stringConvertor",value:function(e,t){return t in this.convertionTables[e]?this.convertionTables[e][t]:t}},{key:"getNameByAgent",value:function(){var e=this.agent,t=this.regex,s=this.isBuiltInApp?e.match(new RegExp(t.app,"i")):e.match(new RegExp(t.browser+"|"+t.app+"|"+t.webview,"i")),i=null;switch(t.bot+=this.isBot?"|butterfly":"",!0){case RegExp(t.bot).test(e):i=e.match(RegExp(t.bot))[0],this.results.isBot=this.isBot=!0;break;case s instanceof Array:switch(s=s[0],!0){case/line(at)?/.test(s):i=s.match(/line(at)?/)[0];break;case RegExp(s).test(t.bot):var a=e.match(RegExp(t.bot));i=a?a[0]:s,this.results.isBot=this.isBot=!0;break;default:i=s.replace(/(microsoft|office)\s/,"")}break;case RegExp(t.opera).test(e):i=e.match(RegExp(t.opera,"i"))?e.match(RegExp(t.opera,"i"))[0]:"version";break;case/trident|(windows)+.*[\s|;]rv(:)?/.test(e):i=/(\s|;)rv:/.test(e)?"rv:":"rv";break;case/blackberry\d*/.test(e):i="blackberry8520";break;case RegExp(t.webkit).test(e):for(var o=t.webkit.split("|"),r=0,n=o.length;r<n;r++)if(e.match(o[r])){i=o[r];break}break;default:var l=e.match(t.engine);i=l?l[0]:null}return this.results.getNameByAgent=i}},{key:"getBrowserVersionByName",value:function(){var e=this.agent,t=this.results.getNameByAgent||this.getNameByAgent(),s=e.replace(/<.*>/,""),i=null;function a(e){var t={int:"",full:""};if(e){var i=e.length;i="rv:"===e?i-1:i;var a=s.substr(s.search(e)+i,20),o=(a=+a.charAt(0)?a:a.substr(1)).match(/(\d(\.)?)*/g)[0];t.int=parseInt(o,10),t.full=o}return t}if(t&&!((i=a(t)).int>=0)){i=a({"80legs":"008",google:"googlebot",jakarta:"client",lua:"http","msnbot-media":"msnbot-media\\s",qq:"mqqbrowser","ssl labs":"of",topbuzz:"newsrepublic","valve steam":"gameoverlay",weibo:"_weibo_","y!":"y!j-asr",yahoo:"yjtop",zhihu:"futureve"}[t]||(this.isBot?"crawler":"chrome"))}return this.results.getBrowserVersionByName=i}},{key:"getBrowserWithCoreName",value:function(){var e=this.agent,t=this.regex,s=this.results.getNameByAgent||this.getNameByAgent(),i=s?s.match(RegExp(t.browserAlias,"i")):null,a=e.match(RegExp(t.engine));a=a?a[0]:"webkit";var o=s||null,r="",n=this.results.getBrowserVersionByName||this.getBrowserVersionByName();if(n=n?n.int?n.int:n.full:null,i){switch(o=i[0],!0){case/fb[a|s]v/.test(o):o="facebook";break;case/edg/.test(o):o="edge";break;case/mx(browser|ios)/.test(o):o="maxthon";break;case/acheetahi/.test(o):o="armorfly";break;case/fxios/.test(o):o="firefox";break;case/browser/.test(o):o={lb:"leibao",sogoumobile:"sogou",ya:"yandex",mqq:"qq"}[o=o.replace(/browser/,"")]||o}n="twitter"===o?null:n}else switch(!0){case RegExp(t.bot).test(e):a="bot";var l=e.match(RegExp(t.bot));if(l=l?l[0]:null){var c=l.match(t.botAlias);o=c?c[0]+"Bot":this.botNameTable[l]||l}else o=this.botNameTable[l]||l;this.results.isBot=this.isBot=!0;break;case/firefox/.test(s):a=/gecko/.test(e)?"gecko":"webkit";break;case RegExp(t.opera+"|coast|mms").test(s):o="opera",a=/applewebkit/.test(e)?"webkit":"presto",r="coast"===s?"coast":"mms"===s?"opera-neon":"";break;case/version|chrome|crios|safari/.test(s):switch(!0){case/c(hrome|rios)/.test(s):o="chrome";break;case"version"===s&&RegExp(t.mobile).test(e):o=e.match(/ip(hone|(a|o)d)/)?"safari":"builtin";break;default:o="safari"}break;case/msie|rv|iemobile/.test(s):a="ie",o=null;break;case/baidu|yahoo/.test(s):o=s.match(/baidu|yahoo/)[0];break;default:var h=!!s&&s.match(RegExp(t.webview,"i"));a="webkit",h?(-1!==e.indexOf("-android")?o=h[0]+"-adr "+h[0]:-1!==e.indexOf("-ios")&&(o=h[0]+"-ios "+h[0]),n=null):/iemobile|msie/.test(e)?a="ie":/applewebkit/.test(e)&&(/c(hrome|rios)/.test(e)?r="chrome":/version/.test(e)?r+=RegExp(t.mobile).test(e)?"builtin":"safari":r+="safari")}r=/chrome/.test(e)&&!/chrome/.test(r)&&r.length?"chrome":r,r=/^edge$/.test(o)?"":r;var b=o?o.split(/\s/):null,u=(b?b[0]:a)+n,m=(o||"")+(u?" "+u:"")+(r?" "+r:"")+(a?" "+a:"");return m=m.replace(/^\s+|\s+$/g,"").split(/\s/),this.classes=this.classes.concat(m),this.results.getBrowserWithCoreName={origin:o||a,name:u,core:a,addon:r,full:m}}},{key:"getPlatform",value:function(){var e=this.agent,t=this.regex,s=e.match(RegExp(t.platform,"i")),i=null;switch(!0){case s instanceof Array:s=s[0],i=this.isBot&&(i=e.match(RegExp(t.bot)))?i[0]:s;break;case RegExp(t.bot).test(e):i=e.match(RegExp(t.bot))[0];break;case/arm/.test(e):i=/windows\s(phone|nt)|iemobile/.test(e)?"wp":/android/.test(e)?"android":"arm";break;case/linux/.test(e):switch(!0){case/cros/.test(e):i="chromeos";break;case/(?=.*windows)(?=.*mxbrowser)|android/.test(e):i="android";break;case/pike/.test(e):i="iphone";break;case/ip(hone|ad|od)/.test(e):i=e.match(/ip(hone|ad|od)/)[0];break;default:i="linux"}break;case/iphone|pike/.test(e):i="iphone";break;case/mac(intel|intosh|ppc68k){0,}/.test(e):i="mac";break;case/x11|hp-ux/.test(e):i=/cros/.test(e)?"chromeos":"unix";break;case/sunos/.test(e):i="solaris";break;case/playstation|psp/.test(e):i="playstation";break;case/(palm|web)os/.test(e):i="palm";break;case/s60|symbian|\\bseries\\b/.test(e):i="symbian";break;case/windows\s(ce|mobile|phone|(nt\s6\.[23];\sarm))|(zune|xbl)wp|iemobile/.test(e):i="wp";break;case/windows\snt\s\d+\.\d+/.test(e):i="windows";break;case/android/.test(e):i="android";break;case/u;\sblackberry|bb|blackberry(\d*)?/.test(e):i="blackberry"}return this.results.getPlatform=i}},{key:"getOSName",value:function(){var e,t=this.agent,s=this.regex;if(this.isBot){e=(this.results.getBrowserWithCoreName||this.getBrowserWithCoreName()).origin}else{var i=this.results.getPlatform||this.getPlatform();switch(!0){case/ip(hone|ad|od)/.test(i):e="ios";break;case"windows"===i&&/windows\snt/.test(t):e=/tablet/.test(t)?"wt":"windows";break;case"klifd"===i:e="firefoxos";break;case"hpwos"===i:e="hpwebos";break;case/irix/.test(i):e="irix";break;case RegExp(s.android).test(t):e="android";break;case"linux"===i:var a=t.match(RegExp(s.linux));e=a?a[0]:i;break;case RegExp(s.bot).test(i):e=this.botNameTable[i]||(i.match(RegExp(s.botAlias))?i.match(RegExp(s.botAlias))[0]+"Bot":i.match(RegExp(s.bot))[0]);break;default:e=i||"Unknown"}}return this.results.getOSName=e}},{key:"getOSVersion",value:function(){var e=this.agent,t=null;if(this.isBot){var s=this.result.getBrowserVersionByName||this.getBrowserVersionByName();t=s?s.full:""}else{var i,a=this.results.getPlatform||this.getPlatform(),o=this.results.getOSName||this.getOSName();switch(o=o?o.toLowerCase():o,!0){case"wp"===o:i=/windows\s(ce.*(ppc|smartphone|mobile|[0-9]{3}x[0-9]{3})|mobile)|wce;/.test(e)?"windows mobile":"windows phone";break;case"iphone"===a||/iphone/.test(e):i=/ipad/.test(e)?"cpu os":"iphone os";break;case"ipad"===a||/ipad/.test(e):i="cpu os";break;case"ipod"===a||/ipod/.test(e):i="ipod os";break;case"mac"===o:i="mac os x";break;case"chromeos"===o:i="cros i686";break;case/windows|wt/.test(o):i=/windows\snt\s?/.test(e)?"windows nt":"windows";break;case/blackberry/.test(o):i=/u;\sblackberry/.test(e)?"u; blackberry":/bb/.test(e)?"bb":o;break;default:i=a}var r=function(t){if(t){var s=/(\d+(_|\.)?)*/g,i=e.match(t)?e.match(t)[0].length:t.length,a=e.substr(e.search(t)+i,10);return a=(a=(a=(a=+a.charAt(0)?a:a.substr(1)).replace(/(\)|\(|;)/g,"")).match(s)?a.match(s)[0]:"").replace(/_+/g,".")}return null};if(!(t=r(i))){var n={android:"zhihu"===(this.results.getBrowserWithCoreName||this.getBrowserWithCoreName()).origin?/\sandroid\s/:/system\/android/,"iphone os":"ios","mac os x":"mac os","y!":"y!j-asr"};t=n[i]?r(n[i]):""}}return this.results.getOSVersion=t}},{key:"getBrowserName",value:function(){var e=this.results.getBrowserWithCoreName||this.getBrowserWithCoreName(),t=e.origin;return this.results.getBrowserName={name:t,origin:this.originClasses,classes:e.full}}},{key:"getBrowserFullVersion",value:function(){var e=this.results.getBrowserVersionByName||this.getBrowserVersionByName();return e=e&&e.full?e.full:"unknown",this.results.getBrowserFullVersion=e}},{key:"getDeviceType",value:function(){var e=this.agent,t=this.regex,s=this.results.getPlatform||this.getPlatform(),i=this.results.getOSName||this.getOSName(),a=s;return a=this.isBot?"bot":e.match(RegExp(t.tv))?"tv":e.match(RegExp(t.mobile))||i.match(RegExp(t.mobile))?"mobile":RegExp(t.mobile).test(s)?"mobile":"desktop",this.results.getDeviceType=a||null}},{key:"getDevice",value:function(){var e=this.agent,t=this.regex,s=this.results.getPlatform||this.getPlatform(),i=this.results.getDeviceType||this.getDeviceType(),a=s;if(this.isBot)a="bot";else if("mobile"===i)switch(s){case"bb":a="blackberry";break;default:a=e.match(RegExp(t.android))?e.match(RegExp(t.android))[0]:s}else if("tv"===i){var o={crkey:"chromecast"};return o[a=e.match(RegExp(t.tv))?e.match(RegExp(t.tv))[0]:s]?o[a]:a}return this.results.getDevice=a}},{key:"getOrientation",value:function(){if(this.isBrowser){var e=this.documentSize.width()>=this.documentSize.height()?"landscape":"portrait",t="orientation"in window?window.orientation:window.screen.orientation?window.screen.orientation.angle:null;return t&&(e=Math.abs(t)/90%2?"portrait":"landscape"),this.results.orientation=e}return null}},{key:"detectIsInApp",value:function(){var e=this.agent,t=this.regex;return this.results.isInApp=!!RegExp(t.app).test(e)&&(this.results.getOSName||this.getOSName())}},{key:"detectIsWebView",value:function(){var e=this.agent,t=this.regex;return this.results.isWebView=!!RegExp(t.webview).test(e)&&(-1!==e.indexOf("ios")?"ios":-1!==e.indexOf("android")?"android":"unknown")}},{key:"getBreakpointRange",value:function(){if(this.isBrowser){var e,t=this.breakpoints,s=this.documentSize.width();switch(!0){case s<t.sm:e="xs";break;case s>=t.sm&&s<t.md:e="sm";break;case s>=t.md&&s<t.lg:e="md";break;case s>=t.lg&&s<t.xl:e="lg";break;default:e="xl"}return this.results.getBreakpointRange=e}return null}},{key:"init",value:function(){var e=this;return this.getNameByAgent(),this.getBrowserVersionByName(),this.getBrowserWithCoreName(),this.getPlatform(),this.getOSName(),this.getOSVersion(),this.getBrowserName(),this.getBrowserFullVersion(),this.getDeviceType(),this.getDevice(),this.getOrientation(),this.getBreakpointRange(),this.detectIsInApp(),this.detectIsWebView(),this.cache="undefined"==typeof JSON?this.results:JSON.parse(JSON.stringify(this.results)),this.classes.push(this.results.getDevice),this.results.isInApp&&this.classes.push("inApp"),this.results.isWebView&&this.classes.push("isWebview"),this.classes=this.classes.filter((function(t,s){return e.classes.indexOf(t)===s})),this.cache.classes=this.classes.join(" "),this.cache.project=this.project.name,this.cache.version=this.project.version,this.cache.author=this.project.author,this.cache}},{key:"createDocumentAttributes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.isBrowser&&(e=e||this.init(),this.root.id=e.getOSName,this.root.className=(this.originClasses.length?this.originClasses.join(" ")+" ":"")+e.classes+" "+e.getDeviceType,this.root.setAttribute("data-browser-name",e.getBrowserName.name),this.root.setAttribute("data-browser-version",e.getBrowserVersionByName.full),this.root.setAttribute("data-browser-core",e.getBrowserWithCoreName.core),this.root.setAttribute("data-os-name",e.getOSName),this.root.setAttribute("data-os-version",e.getOSVersion),this.root.setAttribute("data-device-name",e.getDevice),this.root.setAttribute("data-device-type",e.getDeviceType),this.root.setAttribute("data-breakpoint",e.getBreakpointRange),this.root.setAttribute("data-inapp",e.isInApp),this.root.setAttribute("data-iswebview",e.isWebView),this.root.setAttribute("data-ub-version",e.version),this.storage.set(e))}},{key:"resizing",value:function(){if(this.isBrowser){var e=this.getBreakpointRange();this.root.setAttribute("data-breakpoint",e),this.storage.set(this.results)}}},{key:"runForBrowser",value:function(){if(this.isBrowser){var e,t=this;this.createDocumentAttributes(),void 0!==window.addEventListener&&window.addEventListener("resize",(function(){clearTimeout(e),e=setTimeout((function(){t.resizing(),clearTimeout(e)}),150)}),!1)}}}]),e}();"object"===("undefined"==typeof module?"undefined":_typeof(module))?module.exports=UrBrowser:"undefined"==typeof module&&(window,(new UrBrowser).runForBrowser());